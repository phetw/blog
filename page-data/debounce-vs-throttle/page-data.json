{"componentChunkName":"component---src-template-blog-post-js","path":"/debounce-vs-throttle/","webpackCompilationHash":"b8c855abfa27f7f61761","result":{"data":{"site":{"siteMetadata":{"title":"Wasuwat Limsuparhat's personal blog","description":"This is Wasuwat's personal blog. He is a frontend web developer and he likes building a blazingly fast and beautiful websites.","author":"Wasuwat Limsuparhat","siteUrl":"https://wasuwat.me"}},"markdownRemark":{"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; margin-left:0!important;margin-right:0!important; max-width: 800px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDAA0JCgsKCA0LCgsODg0PEyAVExISEyccHhcgLikxMC4pLSwzOko+MzZGNywtQFdBRkxOUlNSMj5aYVpQYEpRUk//2wBDAQ4ODhMREyYVFSZPNS01T09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0//wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABQACA//EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAE/itkomTqf/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEDERASE//aAAgBAQABBQJwOuZoxIqsf//EABURAQEAAAAAAAAAAAAAAAAAAAAS/9oACAEDAQE/AYQ//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8Bqv/EABkQAAEFAAAAAAAAAAAAAAAAAAIQICExkf/aAAgBAQAGPwKx1kJ//8QAGxAAAwACAwAAAAAAAAAAAAAAAAERIUExcfD/2gAIAQEAAT8hRpO6FadPVLbeKLgZozXk/9oADAMBAAIAAwAAABAYH//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8QQ9LF/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/EJbb/8QAGxABAQACAwEAAAAAAAAAAAAAAREAITFBkVH/2gAIAQEAAT8Q9w33lAnrWYiyHjDIAJVvLPmE9QE56041RqLtz//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/a3860/aron-visuals-322314-unsplash.webp 200w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/b91b8/aron-visuals-322314-unsplash.webp 400w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/a5103/aron-visuals-322314-unsplash.webp 800w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/77687/aron-visuals-322314-unsplash.webp 1200w\"\n          sizes=\"(max-width: 800px) 100vw, 800px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/0d83f/aron-visuals-322314-unsplash.jpg 200w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/af4ec/aron-visuals-322314-unsplash.jpg 400w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/5a642/aron-visuals-322314-unsplash.jpg 800w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/3c681/aron-visuals-322314-unsplash.jpg 1200w\"\n          sizes=\"(max-width: 800px) 100vw, 800px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/5a642/aron-visuals-322314-unsplash.jpg\"\n          alt=\"Timer\"\n          title=\"Timer\"\n        />\n      </picture>\n    </span></p>\n<p>หลายคนอาจจะเคยเห็นคำสองคำนี้ผ่านหูผ่านตามาบ้าง และอาจจะงงว่ามันแตกต่างกันยังไง หรือหลายคนอาจจะยังไม่รู้จัก ในบทความนี้ เรามาดูกันว่า 2 อย่างนี้คืออะไร แตกต่างกันยังไง และเราจะใช้ประโยชน์จากมันได้อย่างไรบ้าง</p>\n<h1><strong>Debounce</strong></h1>\n<p>สมมุติว่าผมต้องการทำ feature search ที่ต้องทำ api request ไปยัง server ทุกครั้งที่ผมเปลี่ยนข้อความในช่อง input มันก็คงจะไม่ดีต่อ performance และ server resources แน่ๆถ้าหากมี user พิมรัวๆ</p>\n<p>แต่หากถ้านำ concept ของ debounce มาใช้ ผมอาจจะ debounce search function เป็นเวลา 1 วินาที เพื่อเว้นช่องว่างหลังจากที่ user พิมเสร็จเรียบร้อย 1 วินาที แล้วถึงจะทำการ request api หาก user พิมต่อก่อนจำนวนเวลาที่กำหนดไว้ เวลาก็จะถูก reset ใหม่ และ api request ก็ยังจะไม่ถูกส่งไปนั่นเอง</p>\n<h1>Throttle</h1>\n<p>สมมุติว่าเราต้องการ detect event resize ของ browser</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-jsjs\"><code class=\"language-jsjs\">window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'resize'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token function\">listenToResizeEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>โดยปกติแล้ว ทุกๆ pixel ที่หน้าจอถูก resize จะไปเรียก <code class=\"language-jstext\">listenToResizeEvent()</code> ซึ่งอาจจะทำให้มีผลกระทบกับ performance ได้หากมีการคำนวนอยู่ใน function นั้นๆเยอะ</p>\n<p>แต่ถ้าหากเรา throttle function นี้ ทุกๆ 300ms จะเป็นผลให้ <code class=\"language-jstext\">listenToResizeEvent()</code> ถูกเรียกทุกๆ 300ms แทน ทำให้ประหยัด resource ขึ้น โดย throttle นั้นจะจำกัดจำนวนที่เรียก function นั้นๆในเวลาที่กำหนด ซึ่งในเคสนี้คือ 1 ครั้งต่อ 300ms ครับ</p>\n<p>จะเห็นได้ว่า ถึงแม้ทั้งคู่จะแตกต่าง และทำงานไม่เหมือนกัน แต่จริงๆแล้วทั้งคู่นั้นมีจุดประสงค์เดียวกันนั่นคือ performance optimization และทำหน้าที่เหมือนกับประตูระบายน้ำที่คอยจำกัดปริมาณของน้ำไม่ให้ไหลลงสู่อีกฝั่งมากเกินไป</p>","excerpt":"หลายคนอาจจะเคยเห็นคำสองคำนี้ผ่านหูผ่านตามาบ้าง และอาจจะงงว่ามันแตกต่างกันยังไง หรือหลายคนอาจจะยังไม่รู้จัก ในบทความนี้ เรามาดูกันว่า 2 อย่างนี้คืออะไร แตกต่างกันยังไง และเราจะใช้ประโยชน์จากมันได้อย่างไรบ้าง Debounce สมมุติว่าผมต้องการทำ feature search ที่ต้องทำ api request ไปยัง server…","frontmatter":{"title":"Debounce vs Throttle : ต่างกันอย่างไร","description":"มาดูกันว่า debounce และ throttle คืออะไร ใช้ยังไง และมีประโยชน์ตอนไหนบ้าง","date":"06 January, 2019","thumbnail":{"childImageSharp":{"resize":{"src":"/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/43372/aron-visuals-322314-unsplash.jpg"}}}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/debounce-vs-throttle/","previous":{"fields":{"slug":"/the-job-interview/"},"frontmatter":{"title":"Why you should go to an interview every once in a while"}},"next":{"fields":{"slug":"/standardizing-angulars-code-base/"},"frontmatter":{"title":"Standardizing Angular's code base"}}}}}
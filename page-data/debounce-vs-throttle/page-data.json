{"componentChunkName":"component---src-template-blog-post-js","path":"/debounce-vs-throttle/","webpackCompilationHash":"3ce124d76e3dab09d3dc","result":{"data":{"site":{"siteMetadata":{"title":"Wasuwat Limsuparhat's personal blog","description":"This is Wasuwat's personal blog. He is a frontend web developer and he likes building a blazingly fast and beautiful websites.","author":"Wasuwat Limsuparhat","siteUrl":"https://wasuwat.me"}},"markdownRemark":{"html":"<p><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto; margin-left:0!important;margin-right:0!important; max-width: 800px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'267\\'%3e%3cpath%20d=\\'M0%2051v52l4-1c18-4%2060-3%2072%201l11%201%2010%201%208%202%208%203c1%201%204%202%2012%202l11%201c1%201%209%203%2016%203l5%201%201%205%202%2013%201%2010c2%201%201%208%200%207-3-2%200%2013%205%2019l2%204%201%206c1%206%201%206-1%206l1%201c2%201%202%201-3%205-6%203-7%205-5%205l4%202c3%202%205%203%206%202l3%201v6c-1-1-1%200-1%201%200%203%201%203%203%200l2-2c4%200%205-4%204-10-2-9-3-21-2-21l1%204v-3a361%20361%200%200%200%201-15v-6l2%204%202%204%204-3c4-4%206-9%205-12s0-4%201-2%202%201%206-5l5-7h-3l-5-1c-1-1%200-1%203-1h4l-4-4h-3l-1-1%202-1h-3l-4%202c-5%200-5%200-2%201%206%202%202%202-4%200l-9-1-4-2h-1l5%207c5%204%206%206%205%208l-2%202-1%202c0%202-4-3-4-6l-3-7v6l-2-2-1-4c-2-3-5-19-5-29l-2-10%201-2%201%203%203%2011c0-2%205-10%206-10l-1%203c-2%203-2%204-1%204h1l-1%201c-1%201-1%201%201%202%202%200%202%201%202%204l2%201%202%203%201%203%201%203c1%203%201%203-1%203s-2%200%200%201l1%201v1c2%202%207%201%207%200l2-1v-1l-3-6-1-7c-2-6-2-17-1-17l2-1-1-1c-4%200-1-3%204-4%202-1%203-2%204-5%202-5%204-4%204%201l1%205v1c-2%200-2%200-1%201%204%202%200%204-9%204-3%201-3%201-2%206%201%204%203%205%205%203l3-1%205-2c3-1%203-1%207%203s4%204%204%202l-2-2-1-2-1-3-2-3c0-2-3-5-3-3h-1c-1-4-1-4%204%200%208%204%2011%2011%2011%2021l1%205c3-1%205%2017%201%2020l-1-1c0-1-2-1-6%201l-4%201-2%201-2%204%201-1c1-1%201-1%201%202%200%207%202%2010%206%209l3%201c3%203%207%202%208%200%202-3%204-1%206%205%206%2022%208%2033%208%2042%200%203%200%204-2%204l-2-1-3-1c-4%200-4%201-1%204%202%202%204%202%206%202h2c-2%201-2%201%203%204l6%202c3%200%206%204%205%207%200%203%202%205%205%203%202-2%201-5-1-5s-2%200-2-3a233%20233%200%200%200%203-11c1-1%200-1-1-1-2%201-3%201-3-1l-1-1c-3%201-8-17-10-33-1-8%200-12%201-6l1%204v-5c0-3%200-4-1-3-2%200-4-5-3-6%201%200%202-1%202-3%201-2%201-2%2011-2l11%201%202%201%203%204c1%203%205%203%205%200%200-1%201-2%203-2l4-2c3-3%204-2%2012%201%207%203%2011%204%2012%202%200-3%207-4%2027-5%2011%200%2017%202%2021%206%200%202%201%202%201%201h1l1%201%202%204%203%202%205-2%204-3%205-1c5%200%205%200%205%202-2%204%203%207%209%206%206%200%205%200%204-3-3-4%204-10%208-9%202%201%202-2%201-12v-6l-4%201-4-1c0-2-1-2-3-2l-5-1c-1-2-7-2-8%200l-2%201-6%202c-1%202-4%202-6%202l-18-2-10-1-32-2c-2-1-10%201-14%204-5%204-8%204-23%203l-19-3c-4%200-4%200-6%203l-1%204-2-2c-2-3-4-12-2-11h1l-1-2-1-3c1-1%200-2-1-2l-3-1-2-8-6-32-1-6c-1%200-1-1%201-1%202-1%202-1%202%202l7%2036c2%205%203%206%204%206%203%200%209%206%209%209%201%204%204%204%204%200%200-2%201-2%203-2l9-1c3-1%206-2%207-1%202%201%205%200%205-2s1-2%2024-2c19%200%2023%201%2024%202h2c4-3%2028-3%2040%200l21%201%2017%201v-19l1-63V0H0v51m22%2094l-10%201c-10%200-11%200-11%207v5h4c6%201%2012%200%2016-1%203-1%205-1%207%201%209%206%2011%206%2017%201%206-4%209-6%2020-6%2013-1%2015-2%2015-4%200-3-8-4-21-2-6%200-9%200-17-2-10-2-14-2-20%200m175%2012l-3%204-1%205-2%205c-2%203-2%204-1%206l2%207c1%205%204%207%206%204%200-3%200-34-1-31M96%20178l-9%2012-3%204%203%202c3%203%205%204%205%202l8-4c5%200%205-3%201-3l-4%201-1%201-3%201-4%202c-2%200-2-2%201-4l5-5c3-5%2012-4%2016%201%202%202%204%203%204%201h2c1%202%204%201%205-1l3-4c2-1%200-2-6-4-5-2-6-2-6%200l-1%201-1-3c0-1-1-3-5-5-3-3-3-3-10%205m-43-5c-2%201-3%204-1%204l7%203c6%204%206%204%208%202s2-2%201-3l-2-2-3-2c-3-3-7-4-10-2m-5%207l-2%201c-3%200-5%203-3%203l-1%201c-1%201-2%201-1%203l2%201c1-1%204%200%207%202%206%202%208%202%209-1%200-2%200-2-3-2-2%200-3%200-3-3l-2-4-2-1h-1m348%201l-3%205-1%204v7c-1%202%203%207%206%207s2-2%200-6c-4-3-4-7-1-7%202-1%203%200%203%201%201%201%201-1%201-4%200-9-1-10-5-7M1%20188v6h8c6%200%207%200%206-1l-2-5c-1-4-2-5-8-6H1v6m190%205l-2%202v1h-3c-2-1-2-1-2%201%200%203%201%205%203%205l3%203c4%206%205%206%208%205l6-2c2%200%203-1%203-2l3-2v3c3%202%207%201%206-1l-2-1h-1c1-2-2-4-4-3l-1-3c1-4%201-4-2-4h-5l-2-1-2-1h-6m141%200h-5l-7%201-5%201-4%202-3%203h5c5%200%206%200%208-2%203-3%209-3%2011%201l3%202c2-1%202%200%201%202%200%203%200%204%205%207s6%204%207%208l2%205c2%200%207-3%207-5l1-2c5-1%202-8-3-8h-3l1-1-1-2c0-2-2-3-3-3-3%200-5-1-5-2l-3-3-5-3c-3-2-4-2-4-1m30%200c-2%201-2%202-2%206%200%207%202%209%207%206%204-2%208-1%2011%202h3c-1-1%200-2%201-3%202-4%200-9-4-10l-2-1h-14M93%20204l-2%201c0-2-1-2-2-2h-2v5l-2-3c-3-3-3-3-3-1h-1c-1-2-6-3-6-1l7%204c2%200%204%202%202%205h3c4-2%209-1%209%200s-3%202-6%201c-2%200-3%200-6%203-5%205-4%206%201%206l7%201%205%201c4%201%204%201%204-1l1-3%202-3c1-3%201-3-1-3l-2%201v2h-2c-1-1%202-5%204-5l4-3c2-2%202-4%200-4l-1%201-2%201-5%202h-2l1-2%202-3c0-4-4-4-7%200m-74%202c-4%200-5%200-5%202l2%201c4-1%2010%200%2010%202%200%204-1%205-9%203l-12-2H0v9c0%206%200%208%201%207%201-2%203-2%2012-2l11-1%2013-6c3%200%204-2%203-5s-4-4-6-3c-1%201-3%200-7-4l-8-1m268%205l-3%205c2%205%202%206%200%206l-2%201%202%202%206%203%206%204%204%202c8-4%209-6%203-14l-5-7c-3-6-5-6-11-2m89%202c-6%202-7%205-3%207%202%200%204%202%205%204%202%202%203%203%205%202%202%200%206%202%206%205l2%203%201%203%203%203%204%201%201-6v-6l-5%201c-4%200-4%200-5-3l-1-3-1-2c0-3-3-8-5-8l-1-1-1-1-5%201m-41%209l1%202%201%201-2-1-4-1h-3c0-2-2%200-3%202%200%203%202%203%207%204%203%200%206%200%209%202l4%203%201-3%202-5c2-3%200-4-5-4h-8m-170%203c-2%201-11%203-13%201-3-1-10-1-12%201-2%201-2%201%200%202%207%204%2010%205%2011%204%204-1%2021-1%2023%201h3c4-2%203-4-1-4l-3-1-1-2-3-1c-1-2-3-2-4-1m87%2012l-2%205c-2%202-3%206-1%206l3%204%204%203%205-3%205-4c3%200%206-3%206-5l2-2c3-3%200-4-6-1l-4%201%201-1c1%200%201-1-1-2-1-2-3-3-4-2l-4-1c-4-3-4-2-4%202m99-2v2c2%200%204%203%203%206%200%202%200%203%203%204%203%202%204%203%203%206%200%202%200%202-3%200l-4-1-2-1c0-1-6-4-10-3-3%200-3%200-1%202l3%202c2%200%208%203%209%206%202%203%206%203%208%200l6-2c3%200%204%200%203-1s0-2%202-3c5-2%201-7-7-10l-5-3-3-2-3-1-2-1m-34%206c-1%202-3%203-2%204%201%200%2019%203%2020%202l-7-8c-4-2-7-1-11%202m60%2012l-3%201c-2%203%203%206%206%205h13l-1-3c-1-3-2-3-6-3h-9m-327%204a104%20104%200%200%201-20%205c-2%202-6%200-6-2%200-3-2-3-5%200-3%202-8%203-9%201-2-2-7-4-9-2-1%201-1%201%201%202s3%202%202%204v2h14c14%200%2014%200%2014-2l1-2v2c0%202%200%202%2016%202%2012%200%2015%200%2015-2l-1-1-2-3c0-2-4-6-6-6l-5%202\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/2263d/aron-visuals-322314-unsplash.webp 200w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/e1fb3/aron-visuals-322314-unsplash.webp 400w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/9e719/aron-visuals-322314-unsplash.webp 800w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/47c57/aron-visuals-322314-unsplash.webp 1200w\"\n          sizes=\"(max-width: 800px) 100vw, 800px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/23638/aron-visuals-322314-unsplash.jpg 200w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/f5e05/aron-visuals-322314-unsplash.jpg 400w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/2fa10/aron-visuals-322314-unsplash.jpg 800w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/19f72/aron-visuals-322314-unsplash.jpg 1200w\"\n          sizes=\"(max-width: 800px) 100vw, 800px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/2fa10/aron-visuals-322314-unsplash.jpg\"\n          alt=\"Timer\"\n          title=\"\"\n        />\n      </picture>\n  </span></p>\n<p>หลายคนอาจจะเคยเห็นคำสองคำนี้ผ่านหูผ่านตามาบ้าง และอาจจะงงว่ามันแตกต่างกันยังไง หรือหลายคนอาจจะยังไม่รู้จัก ในบทความนี้ เรามาดูกันว่า 2 อย่างนี้คืออะไร แตกต่างกันยังไง และเราจะใช้ประโยชน์จากมันได้อย่างไรบ้าง</p>\n<h1><strong>Debounce</strong></h1>\n<p>สมมุติว่าผมต้องการทำ feature search ที่ต้องทำ api request ไปยัง server ทุกครั้งที่ผมเปลี่ยนข้อความในช่อง input มันก็คงจะไม่ดีต่อ performance และ server resources แน่ๆถ้าหากมี user พิมรัวๆ</p>\n<p>แต่หากถ้านำ concept ของ debounce มาใช้ ผมอาจจะ debounce search function เป็นเวลา 1 วินาที เพื่อเว้นช่องว่างหลังจากที่ user พิมเสร็จเรียบร้อย 1 วินาที แล้วถึงจะทำการ request api หาก user พิมต่อก่อนจำนวนเวลาที่กำหนดไว้ เวลาก็จะถูก reset ใหม่ และ api request ก็ยังจะไม่ถูกส่งไปนั่นเอง</p>\n<h1>Throttle</h1>\n<p>สมมุติว่าเราต้องการ detect event resize ของ browser</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-jsjs\"><code class=\"language-jsjs\">window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'resize'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token function\">listenToResizeEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>โดยปกติแล้ว ทุกๆ pixel ที่หน้าจอถูก resize จะไปเรียก <code class=\"language-jstext\">listenToResizeEvent()</code> ซึ่งอาจจะทำให้มีผลกระทบกับ performance ได้หากมีการคำนวนอยู่ใน function นั้นๆเยอะ</p>\n<p>แต่ถ้าหากเรา throttle function นี้ ทุกๆ 300ms จะเป็นผลให้ <code class=\"language-jstext\">listenToResizeEvent()</code> ถูกเรียกทุกๆ 300ms แทน ทำให้ประหยัด resource ขึ้น โดย throttle นั้นจะจำกัดจำนวนที่เรียก function นั้นๆในเวลาที่กำหนด ซึ่งในเคสนี้คือ 1 ครั้งต่อ 300ms ครับ</p>\n<p>จะเห็นได้ว่า ถึงแม้ทั้งคู่จะแตกต่าง และทำงานไม่เหมือนกัน แต่จริงๆแล้วทั้งคู่นั้นมีจุดประสงค์เดียวกันนั่นคือ performance optimization และทำหน้าที่เหมือนกับประตูระบายน้ำที่คอยจำกัดปริมาณของน้ำไม่ให้ไหลลงสู่อีกฝั่งมากเกินไป</p>","excerpt":"หลายคนอาจจะเคยเห็นคำสองคำนี้ผ่านหูผ่านตามาบ้าง และอาจจะงงว่ามันแตกต่างกันยังไง หรือหลายคนอาจจะยังไม่รู้จัก ในบทความนี้ เรามาดูกันว่า 2 อย่างนี้คืออะไร แตกต่างกันยังไง และเราจะใช้ประโยชน์จากมันได้อย่างไรบ้างDebounceสมมุติว่าผมต้องการทำ feature search ที่ต้องทำ api request ไปยัง server…","frontmatter":{"title":"Debounce vs Throttle : ต่างกันอย่างไร","description":"มาดูกันว่า debounce และ throttle คืออะไร ใช้ยังไง และมีประโยชน์ตอนไหนบ้าง","date":"06 January, 2019","thumbnail":{"childImageSharp":{"resize":{"src":"/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/48ccc/aron-visuals-322314-unsplash.jpg"}}}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/debounce-vs-throttle/","previous":{"fields":{"slug":"/the-job-interview/"},"frontmatter":{"title":"Why you should go to an interview every once in a while"}},"next":{"fields":{"slug":"/standardizing-angulars-code-base/"},"frontmatter":{"title":"Standardizing Angular's code base"}}}}}
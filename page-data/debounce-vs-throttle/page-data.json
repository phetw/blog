{"componentChunkName":"component---src-template-blog-post-js","path":"/debounce-vs-throttle/","webpackCompilationHash":"0ff1fb1497c80143a0d7","result":{"data":{"site":{"siteMetadata":{"title":"Wasuwat Limsuparhat's personal blog","description":"This is Wasuwat's personal blog. He is a frontend web developer and he likes building a blazingly fast and beautiful websites.","author":"Wasuwat Limsuparhat","siteUrl":"https://wasuwat.me"}},"markdownRemark":{"html":"<p><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto; margin-left:0!important;margin-right:0!important; max-width: 800px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABQACBP/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAErndzNBTEn/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAECERMEEP/aAAgBAQABBQJ8sksjJkVYlXn/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEv/aAAgBAwEBPwGEP//EABURAQEAAAAAAAAAAAAAAAAAAAAS/9oACAECAQE/AaU//8QAHBAAAgEFAQAAAAAAAAAAAAAAAAERAhAhMXEy/9oACAEBAAY/AvVL4zDm3CEbP//EABsQAAMAAwEBAAAAAAAAAAAAAAABESFRYUGh/9oACAEBAAE/IbhCbmh4cfptNNGymjWGZr6P/9oADAMBAAIAAwAAABDEz//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8QS9LN/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAgEBPxBNhR//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhMXFBUbH/2gAIAQEAAT8QAjZxTeLCC2eH3rEGIvXDIBgN0oesGzgFtJpxs1KIV85//9k='); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/2263d/aron-visuals-322314-unsplash.webp 200w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/e1fb3/aron-visuals-322314-unsplash.webp 400w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/9e719/aron-visuals-322314-unsplash.webp 800w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/47c57/aron-visuals-322314-unsplash.webp 1200w\"\n          sizes=\"(max-width: 800px) 100vw, 800px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/23638/aron-visuals-322314-unsplash.jpg 200w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/f5e05/aron-visuals-322314-unsplash.jpg 400w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/2fa10/aron-visuals-322314-unsplash.jpg 800w,\n/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/19f72/aron-visuals-322314-unsplash.jpg 1200w\"\n          sizes=\"(max-width: 800px) 100vw, 800px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n          src=\"/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/2fa10/aron-visuals-322314-unsplash.jpg\"\n          alt=\"Timer\"\n          title=\"\"\n        />\n      </picture>\n  </span></p>\n<p>หลายคนอาจจะเคยเห็นคำสองคำนี้ผ่านหูผ่านตามาบ้าง และอาจจะงงว่ามันแตกต่างกันยังไง หรือหลายคนอาจจะยังไม่รู้จัก ในบทความนี้ เรามาดูกันว่า 2 อย่างนี้คืออะไร แตกต่างกันยังไง และเราจะใช้ประโยชน์จากมันได้อย่างไรบ้าง</p>\n<h1><strong>Debounce</strong></h1>\n<p>สมมุติว่าผมต้องการทำ feature search ที่ต้องทำ api request ไปยัง server ทุกครั้งที่ผมเปลี่ยนข้อความในช่อง input มันก็คงจะไม่ดีต่อ performance และ server resources แน่ๆถ้าหากมี user พิมรัวๆ</p>\n<p>แต่หากถ้านำ concept ของ debounce มาใช้ ผมอาจจะ debounce search function เป็นเวลา 1 วินาที เพื่อเว้นช่องว่างหลังจากที่ user พิมเสร็จเรียบร้อย 1 วินาที แล้วถึงจะทำการ request api หาก user พิมต่อก่อนจำนวนเวลาที่กำหนดไว้ เวลาก็จะถูก reset ใหม่ และ api request ก็ยังจะไม่ถูกส่งไปนั่นเอง</p>\n<h1>Throttle</h1>\n<p>สมมุติว่าเราต้องการ detect event resize ของ browser</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-jsjs\"><code class=\"language-jsjs\">window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'resize'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token function\">listenToResizeEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>โดยปกติแล้ว ทุกๆ pixel ที่หน้าจอถูก resize จะไปเรียก <code class=\"language-jstext\">listenToResizeEvent()</code> ซึ่งอาจจะทำให้มีผลกระทบกับ performance ได้หากมีการคำนวนอยู่ใน function นั้นๆเยอะ</p>\n<p>แต่ถ้าหากเรา throttle function นี้ ทุกๆ 300ms จะเป็นผลให้ <code class=\"language-jstext\">listenToResizeEvent()</code> ถูกเรียกทุกๆ 300ms แทน ทำให้ประหยัด resource ขึ้น โดย throttle นั้นจะจำกัดจำนวนที่เรียก function นั้นๆในเวลาที่กำหนด ซึ่งในเคสนี้คือ 1 ครั้งต่อ 300ms ครับ</p>\n<p>จะเห็นได้ว่า ถึงแม้ทั้งคู่จะแตกต่าง และทำงานไม่เหมือนกัน แต่จริงๆแล้วทั้งคู่นั้นมีจุดประสงค์เดียวกันนั่นคือ performance optimization และทำหน้าที่เหมือนกับประตูระบายน้ำที่คอยจำกัดปริมาณของน้ำไม่ให้ไหลลงสู่อีกฝั่งมากเกินไป</p>","excerpt":"หลายคนอาจจะเคยเห็นคำสองคำนี้ผ่านหูผ่านตามาบ้าง และอาจจะงงว่ามันแตกต่างกันยังไง หรือหลายคนอาจจะยังไม่รู้จัก ในบทความนี้ เรามาดูกันว่า 2 อย่างนี้คืออะไร แตกต่างกันยังไง และเราจะใช้ประโยชน์จากมันได้อย่างไรบ้างDebounceสมมุติว่าผมต้องการทำ feature search ที่ต้องทำ api request ไปยัง server…","frontmatter":{"title":"Debounce vs Throttle : ต่างกันอย่างไร","description":"มาดูกันว่า debounce และ throttle คืออะไร ใช้ยังไง และมีประโยชน์ตอนไหนบ้าง","date":"06 January, 2019","thumbnail":{"childImageSharp":{"resize":{"src":"/blog/static/4a853999ad8fc4c6f7bd69905e59ef00/0a1d3/aron-visuals-322314-unsplash.jpg"}}}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/debounce-vs-throttle/","previous":{"fields":{"slug":"/the-job-interview/"},"frontmatter":{"title":"Why you should go to an interview every once in a while"}},"next":{"fields":{"slug":"/standardizing-angulars-code-base/"},"frontmatter":{"title":"Standardizing Angular's code base"}}}}}
{"data":{"site":{"siteMetadata":{"title":"Wasuwat Limsuparhat","description":"I write blogs to remind and keep track on what I ve learn.","author":"Wasuwat Limsuparhat","siteUrl":"https://rappad.github.io/blog/"}},"markdownRemark":{"html":"<p><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left:0!important;margin-right:0!important; max-width: 800px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 66.41666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAgP/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAGe7JbzvmZB/wD/xAAdEAACAAcBAAAAAAAAAAAAAAABAgADERITISIx/9oACAEBAAEFAvFx0glFN/JmEq2z/8QAFREBAQAAAAAAAAAAAAAAAAAAACH/2gAIAQMBAT8BV//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABwQAAMAAQUAAAAAAAAAAAAAAAABEQISISJRcf/aAAgBAQAGPwJNGjKcuiZJkPNys//EABsQAQACAgMAAAAAAAAAAAAAAAEAESFBMVGh/9oACAEBAAE/IbGrY+QIFRdscRi4m+yDFQpgbTgYCozP/9oADAMBAAIAAwAAABD3z//EABgRAAIDAAAAAAAAAAAAAAAAAAABESFB/9oACAEDAQE/EFZGD//EABcRAQEBAQAAAAAAAAAAAAAAAAEAEUH/2gAIAQIBAT8QRIzt/8QAGxABAQEBAAMBAAAAAAAAAAAAAREAITFRgbH/2gAIAQEAAT8Q4+sKoxc/ZlboAKgGC/XLqNCB9Dr1gnd0REUXoYJQgfO//9k='); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/blog/static/8c8ae0588ae16b674a9193640c19758e/f27eb/mr-cup-fabien-barral-86074-unsplash.webp 200w,\n/blog/static/8c8ae0588ae16b674a9193640c19758e/07766/mr-cup-fabien-barral-86074-unsplash.webp 400w,\n/blog/static/8c8ae0588ae16b674a9193640c19758e/8ff87/mr-cup-fabien-barral-86074-unsplash.webp 800w,\n/blog/static/8c8ae0588ae16b674a9193640c19758e/5aec2/mr-cup-fabien-barral-86074-unsplash.webp 1200w\"\n          sizes=\"(max-width: 800px) 100vw, 800px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/blog/static/8c8ae0588ae16b674a9193640c19758e/c5f69/mr-cup-fabien-barral-86074-unsplash.jpg 200w,\n/blog/static/8c8ae0588ae16b674a9193640c19758e/87d89/mr-cup-fabien-barral-86074-unsplash.jpg 400w,\n/blog/static/8c8ae0588ae16b674a9193640c19758e/4ccca/mr-cup-fabien-barral-86074-unsplash.jpg 800w,\n/blog/static/8c8ae0588ae16b674a9193640c19758e/cc15e/mr-cup-fabien-barral-86074-unsplash.jpg 1200w\"\n          sizes=\"(max-width: 800px) 100vw, 800px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/blog/static/8c8ae0588ae16b674a9193640c19758e/4ccca/mr-cup-fabien-barral-86074-unsplash.jpg\"\n          alt=\"old books\"\n          title=\"\"\n        />\n      </picture>\n  </span></p>\n<h1>git commit --amend</h1>\n<blockquote>\n<p>อ่าว commit งานไปแล้วแต่ลืมลบ code ที่เอาไว้ debug...</p>\n</blockquote>\n<p>แน่นอนครับว่า เหตุการแบบนี้สามารถเกิดขึ้นได้ตลอดระหว่างการใช้ version control ในทุกๆวันในการทำงานของ developer</p>\n<p>แต่ทำไงดีหล่ะ ?</p>\n<p>ถึงแม้ว่าจะไม่ใช่อะไรที่ร้ายแรง และ</p>\n<p><code class=\"language-jstext\">git commit -m &#39;to remove console.log()&#39;</code></p>\n<p>น่าจะแก้ไขได้อย่าง่ายดาย แต่ก็แลกมาด้วย commit เพิ่มขึ้นอีกหนึ่งครั้งโดยไม่จำเป็น ทำให้ git history นั้นรก และไม่ <em>clean</em> เห็นแล้วคันไม้คันมือ อยากจะย้อนเวลากลับไปแก้ไขสิ่งที่ทำผิดพลาดไป ในโลกแห่งความจริงอาจจะทำไม่ได้ แต่กับ git แล้ว เราแก้ไขอดีตได้ครับ</p>\n<p>หากตกอยู่ในสถานการณ์คล้ายๆที่ยกตัวอย่างไปข้างต้น <code class=\"language-jstext\">git commit --amend</code> ช่วยคุณได้ โดย flag <code class=\"language-jstext\">--amend</code> นั้นจะทำการ <strong>rewrite</strong> commit ตัวล่าสุดของเราด้วย commit message อันเดิมกับ commit ล่าสุด แต่ถ้าหากเราเพิ่ม flag <code class=\"language-jstext\">-m</code> เข้าไป เราก็จะสามารถแก้ไข commit message อันล่าสุดได้ด้วย</p>\n<p>โดย <strong>best practise</strong> ของการใช้ <code class=\"language-jstext\">amend</code> นั้น กล่าวกันว่า เราไม่ควร amend <code class=\"language-jstext\">commit</code> ที่มีคนอื่นใช้อยู่ด้วย ซึ่งจะทำให้เกิดอาการงง และ code base อาจจะไม่ตรงกันได้</p>\n<p>ซึ่ง git client อย่าง <a href=\"https://www.gitkraken.com\">GitKraken</a> นั้นก็มี option ให้ amend ตอน commit อีกด้วย สะดวกมากๆเลย</p>","excerpt":"git commit --amend อ่าว commit งานไปแล้วแต่ลืมลบ code ที่เอาไว้ debug... แน่นอนครับว่า เหตุการแบบนี้สามารถเกิดขึ้นได้ตลอดระหว่างการใช้ version control ในทุกๆวันในการทำงานของ developer แต่ทำไงดีหล่ะ ? ถึงแม้ว่าจะไม่ใช่อะไรที่ร้ายแรง และ น่าจะแก้ไขได้อย่าง่ายดาย แต่ก็แลกมาด้วย commit…","frontmatter":{"path":"/git-commit-amend","title":"git commit --amend","description":"ทำอย่างไรเมื่อ git commit พลาด","date":"08 January, 2019","thumbnail":{"childImageSharp":{"resize":{"src":"/blog/static/8c8ae0588ae16b674a9193640c19758e/ea552/mr-cup-fabien-barral-86074-unsplash.jpg"}}}}}},"pageContext":{}}